\hypertarget{_p_item_8h_source}{}\doxysection{PItem.\+h}
\mbox{\hyperlink{_p_item_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <set>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_p_production_8h}{PProduction.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}common.h"{}}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{comment}{//\ DECLARATOIN}}
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacem0st4fa}{m0st4fa}}\ \{}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ SymbolT>}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacem0st4fa_a92cb581ad9fc39702677dc3d050185fa}{LookAheadSet}}\ =\ std::set<SymbolT>;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ProductionT>}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classm0st4fa_1_1_item}{Item}}\ \{}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ProductionElementType\ =\ \textcolor{keyword}{decltype}(ProductionT\{\}.at(0));}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }SymbolT\ =\ \textcolor{keyword}{decltype}(ProductionT\{\}.prodHead);}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }LookAheadSet\ =\ LookAheadSet<SymbolT>;}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }pos\_t\ =\ size\_t;}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ Logger\ p\_Logger\{\};}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ pos\_t\ m\_ActualDotPos\ =\ 0;}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item}{Item}}\ \mbox{\hyperlink{classm0st4fa_1_1_item_aa3c2590fe98df3b6b89143a0e745d56f}{EMPTY\_ITEM}};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ when\ implementing\ items,\ take\ care\ of\ non-\/symbol\ objects\ within\ the\ production.}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ ProductionT\ \mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}};}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ pos\_t\ \mbox{\hyperlink{classm0st4fa_1_1_item_a4f14d267c42660d3ce5e96525804a0d3}{dotPos}}\ =\ 0;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ LookAheadSet\ \mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}\{\};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_a3860a6fd9fc2c0367512ca5960f6150a}{Item}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_a3cde864fe3855dcc85620060b4d81c41}{Item}}(\textcolor{keyword}{const}\ ProductionT\&\ \mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}},\ pos\_t\ dotPosition,\ \textcolor{keyword}{const}\ LookAheadSet\&\ \mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}\ =\ \{\})\ :}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}}\{\ \mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}}\ \},\ \mbox{\hyperlink{classm0st4fa_1_1_item_a4f14d267c42660d3ce5e96525804a0d3}{dotPos}}\{\ dotPosition\ \},\ \mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}\{\ \mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}\ \}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prodBody\ =\ this-\/>production.prodBody;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ psize\ =\ std::count\_if(}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prodBody.begin(),\ prodBody.end(),\ }
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ element)\ \{return\ element.type\ ==\ ProdElementType::PET\_GRAM\_SYMBOL;\ \}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ that\ the\ dot\ position\ is\ within\ range}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((this-\/>dotPos\ >\ psize)\ or\ (this-\/>dotPos\ <\ 0))\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::ERR\_INVALID\_VAL,\ \textcolor{stringliteral}{"{}Invalid\ dot\ position\ in\ item.\ Make\ sure\ the\ dot\ position\ is\ smaller\ than\ the\ size\ of\ the\ production\ body."{}});}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Invalid\ dot\ position\ in\ item."{}});}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ pos\_t\ encountered\ =\ 0;}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (encountered\ !=\ this-\/>dotPos)\ \{}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ isSymbol\ =\ this-\/>production.prodBody.at(this-\/>m\_ActualDotPos).type\ ==\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a42c1ebc8f84ef20ad44c7d006106e749}{ProdElementType::PET\_GRAM\_SYMBOL}};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isSymbol)}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ encountered++;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_ActualDotPos++;}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_ab107f2b5fc2b0825196e59f88262b9fd}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item}{Item}}\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ test\ the\ dot\ position\ first\ since\ it\ is\ a\ common\ discrepancy\ and\ its\ test\ is\ faster.}}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (other.\mbox{\hyperlink{classm0st4fa_1_1_item_a4f14d267c42660d3ce5e96525804a0d3}{dotPos}}\ ==\ this-\/>dotPos)\ \&\&\ (other.\mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}}\ ==\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}})\ \&\&\ (other.\mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}\ ==\ this-\/>lookaheads);}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keyword}{operator}\ std::string()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_ae25d6f61e190db9f62e3f8a1d6af6f34}{toString}}();}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classm0st4fa_1_1_item_ae25d6f61e190db9f62e3f8a1d6af6f34}{toString}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CAUTION:\ be\ cautious\ of\ non-\/grammar-\/symbol\ objects!!!}}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prodBody\ =\ this-\/>production.prodBody;}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ psize\ =\ this-\/>production.size();}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ dotEmitted\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\ =\ \textcolor{stringliteral}{"{}["{}}+\ this-\/>production.prodHead.toString()\ +\ \textcolor{stringliteral}{"{}\ -\/>"{}};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ element\ :\ this-\/>production.prodBody)\ \{}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ non-\/grammar-\/symbol\ objects}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (element.type\ !=\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a42c1ebc8f84ef20ad44c7d006106e749}{ProdElementType::PET\_GRAM\_SYMBOL}})\ \{}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ "{}}\ +\ (std::string)element;}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ element\ is\ a\ grammar\ symbol}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolT\&\ symbol\ =\ element.as.gramSymbol;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ index\ of\ the\ symbol\ is\ the\ same\ as\ the\ dot\ position}}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ ==\ this-\/>dotPos)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ means\ that\ the\ dot\ precedes\ that\ symbol}}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ .\ "{}}\ +\ (std::string)symbol;}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dotEmitted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i++;}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ dot\ is\ not\ at\ this\ symbol}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ "{}}\ +\ (std::string)symbol;}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ it\ is\ at\ the\ end}}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ ==\ psize\ -\/\ 1\ \&\&\ not\ dotEmitted)}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ ."{}};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ i++;\ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ item\ has\ any\ lookaheads}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}.size()\ >\ 0)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{},\ "{}}\ +\ (std::string)*this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}.begin();}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ SymbolT\&\ lookahead\ :\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}})\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ is\ the\ first\ lookahead,\ return\ since\ we\ have\ already\ included\ it}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lookahead\ ==\ *this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a12727c9d2402628bc8afaf6975b23121}{lookaheads}}.begin())}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ is\ not\ the\ first\ lookahead}}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ msg\ +=\ \textcolor{stringliteral}{"{}\ /\ "{}}\ +\ (std::string)lookahead;}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ msg\ +\ \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classm0st4fa_1_1_item_aa9e1ff1237414fbeffea4adf256fc27c}{getActualDotPosition}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_ActualDotPos;\ \}}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_a472c6805cefec77756783fff12d12bbe}{isDotPositionAtEnd}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_ActualDotPos\ ==\ this-\/>production.size();\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ ProductionElementType\ \mbox{\hyperlink{classm0st4fa_1_1_item_ad072c3f380e296adf7cac2fa4d6d5194}{atDotPosition}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_ActualDotPos\ <\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}}.size())}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>production.at(this-\/>m\_ActualDotPos);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ProductionElementType\{\};}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ SymbolT\ \mbox{\hyperlink{classm0st4fa_1_1_item_a217fac1de0e84ad2c126cb77d9a833ea}{symbolAtDotPosition}}()\textcolor{keyword}{\ const\ }\{\ }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_ActualDotPos\ <\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}}.size())}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>production.at(this-\/>m\_ActualDotPos).as.gramSymbol;\ }
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SymbolT\{\};}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_a934f48c89f1347995d93855964e6d948}{hasIdenticalCore}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item}{Item}}\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classm0st4fa_1_1_item_a4f14d267c42660d3ce5e96525804a0d3}{dotPos}}\ ==\ other.\mbox{\hyperlink{classm0st4fa_1_1_item_a4f14d267c42660d3ce5e96525804a0d3}{dotPos}}\ \&\&\ m\_ActualDotPos\ ==\ other.m\_ActualDotPos\ \&\&\ \mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}}\ ==\ other.\mbox{\hyperlink{classm0st4fa_1_1_item_a646b862ea975f3de4215425d5674bd22}{production}};}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00161\ \ \ \ \ \};}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ProductionT>}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keyword}{const}\ Item<ProductionT>}
\DoxyCodeLine{00165\ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_aa3c2590fe98df3b6b89143a0e745d56f}{Item<ProductionT>::EMPTY\_ITEM}}\ \{\};}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ItemT>\ }
\DoxyCodeLine{00168\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\ \{}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ProductionType\ =\ \textcolor{keyword}{decltype}(ItemT\{\}.production);}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }StackElemType\ =\ \textcolor{keyword}{decltype}(ProductionType\{\}.at(0));}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }SymbolType\ =\ \textcolor{keyword}{decltype}(ProductionType\{\}.prodHead);}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }VariableType\ =\ \textcolor{keyword}{decltype}(SymbolType\{\}.as.nonTerminal);}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string}{SymbolStringType}}\ =\ \mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string}{SymbolString<SymbolType>}};}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}\ =\ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProductionVector<ProductionType>}};}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }LookAheadSet\ =\ LookAheadSet<SymbolType>;}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \mbox{\hyperlink{classm0st4fa_1_1_item}{Item<ProductionType>}};}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ stores\ the\ item\ set}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ std::vector<ItemT>\ m\_Set\ \{\};}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ caches\ the\ closure\ of\ this\ item\ set}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ std::vector<ItemT>\ m\_Closure\{\};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_add\_to\_closure\_no\_lookaheads(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}\&);}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_add\_to\_closure\_lookaheads(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}\&,\ \textcolor{keyword}{const}\ LookAheadSet\&);}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_set\_closure(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\ newClosure)\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Closure\ =\ newClosure;}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ Logger\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ab40aee4274268c650edad1651da5cbeb}{p\_Logger}};}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ std::vector<ItemT>::iterator\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a7a992572a0c4798db2b76ec8a1b7bff5}{get\_item\_it}}(\textcolor{keyword}{const}\ ProductionType\&\ production,\ \textcolor{keywordtype}{size\_t}\ dotPosition,\ \textcolor{keywordtype}{bool}\ fromm\_Set\ =\ \textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ad57ad5addc173c99d1c54f386f7977fe}{begin}}\ =\ fromm\_Set\ ?\ this-\/>m\_Set.begin()\ :\ this-\/>m\_Closure.begin();}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_abf091d2c782e7a6ca66e6bc812a9f2bb}{end}}\ =\ fromm\_Set\ ?\ this-\/>m\_Set.end()\ :\ this-\/>m\_Closure.end();}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ predicate\ =\ [\textcolor{keyword}{this},\ \&production,\ \&dotPosition](\textcolor{keyword}{const}\ ItemT\&\ item)\ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ itemProd\ =\ item.production;}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ itemDotPos\ =\ item.dotPos;}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (itemDotPos\ ==\ dotPosition)\ \&\&\ (itemProd\ ==\ production);}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ it\ =\ std::find\_if(\mbox{\hyperlink{classm0st4fa_1_1_item_set_ad57ad5addc173c99d1c54f386f7977fe}{begin}},\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_abf091d2c782e7a6ca66e6bc812a9f2bb}{end}},\ predicate);}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ an\ item\ if\ it\ is\ found,\ else\ return\ an\ empty\ item}}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it;}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a454c2eba981bb250f27037507ad0d0aa}{ItemSet}}(\textcolor{keyword}{const}\ std::vector<ItemT>\ items,\ \textcolor{keywordtype}{bool}\ sameClosure)\ :\ m\_Set\{\ items\ \},\ m\_Closure\{\ items\ \}\ \{\}}
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set_af79d57b4955f2b3b78b35de27f410979}{ItemSet}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a49e3362d35f7ee0b20083edfd0916fd4}{ItemSet}}(\textcolor{keyword}{const}\ std::initializer\_list<ItemT>\&\ items)\ :\ m\_Set\{\ items\ \}\ \{\};}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ae25b749772a019c3265e2618393f143e}{ItemSet}}(\textcolor{keyword}{const}\ std::vector<ItemT>\ items)\ :\ m\_Set\{\ items\ \}\ \{\};}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a6258e1696923f7d1a57580e36dcc2f43}{ItemSet}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\ other)\ :\ m\_Set\{\ other.m\_Set\ \},\ m\_Closure\{\ other.m\_Closure\ \}\ \{\};}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a6aa97918eaee1c5ddc8697d177db3dcb}{ItemSet}}(\mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\&\ other)\ :\ m\_Set\{\ std::move(other.m\_Set)\ \},\ m\_Closure\{\ std::move(other.m\_Closure)\ \}\ \{\};}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CAUTION:\ when\ implementing\ these\ functions,\ be\ cautiuos\ that\ a\ single}}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ item\ object\ may\ represent\ different\ items.}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ OPERATOR\ FUNCTIONS}}
\DoxyCodeLine{00227\ \textcolor{comment}{}\ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a7979b07ee513c758f8f3b22ce638afb8}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\ rhs)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_aef59afa75fff418fd37fd2a48c96ea08}{size}}()\ ==\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_aef59afa75fff418fd37fd2a48c96ea08}{size}}()\ \&\&\ this-\/>m\_Set\ ==\ rhs.m\_Set;}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ab160af618edad38c1543fde0a1275645}{operator<}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\ rhs)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>m\_Set.size()\ <\ rhs.m\_Set.size();}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keyword}{operator}\ std::string()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_set_a989c7a8a6f56d832878ae58345be1a0b}{toString}}();}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{keyword}{operator}\ std::vector<ItemT>()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_item_set_a1524ffe25372972779ecfc1ab4fcf422}{getItemVector}}();}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NON-\/OPERATOR\ FUNCTIONS}}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a989c7a8a6f56d832878ae58345be1a0b}{toString}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ str;}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ item\ :\ this-\/>m\_Set)}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ str\ +=\ (std::string)item\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (str.empty())}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}\{\ \}"{}};}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (std::string)\textcolor{stringliteral}{"{}\{\(\backslash\)n"{}}\ +\ str\ +\ \textcolor{stringliteral}{"{}\}"{}};}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ std::vector<ItemT>\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a1524ffe25372972779ecfc1ab4fcf422}{getItemVector}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set;\ \}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ItemT\&\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a87c6b0680a8007b906c015460daf0e41}{at}}(\textcolor{keywordtype}{size\_t}\ index)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.at(index);\ \}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ad57ad5addc173c99d1c54f386f7977fe}{begin}}()\ \{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.begin();\ \}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_abf091d2c782e7a6ca66e6bc812a9f2bb}{end}}()\ \{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.end();\ \}}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_af773421dcdfdb212ba6c437a4ee34180}{begin}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.begin();\ \}}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ab702fcebcb4aa3be1583a2cb432dc6e4}{end}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.end();\ \}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_aef59afa75fff418fd37fd2a48c96ea08}{size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.size();\ \}}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a1564db89166eea62f60fdbffa8060baa}{empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>m\_Set.empty();\ \}}
\DoxyCodeLine{00263\ }
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a642964c44ba0f376a7a08c14915893a1}{insert}}(\textcolor{keyword}{const}\ ItemT\&);}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00271\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ merge\ an\ item\ set\ \`{}s`\ with\ this\ item\ set.}}
\DoxyCodeLine{00272\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ if\ an\ item\ \`{}i`\ exists\ in\ \`{}s`\ and\ does\ not\ exist\ in\ this\ item\ set,\ \`{}i`\ will\ be\ added\ to\ this\ item\ set.}}
\DoxyCodeLine{00273\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ the\ lookaheads\ of\ all\ identical\ items\ will\ be\ merged.}}
\DoxyCodeLine{00274\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a17e42364af7782a3a78804e4be4f7cff}{merge}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&);}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ ItemT\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a6e02905c715b9407b1c0cf097157333e}{get}}(\textcolor{keyword}{const}\ ProductionType\&,\ \textcolor{keywordtype}{size\_t})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a73dea718d6fc79303c53c87ca5db6c78}{contains}}(\textcolor{keyword}{const}\ ItemT\&)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_aeb7323ac9d1b201aea63b995c1327207}{hasIdenticalCore}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a063d4b917c85430eb5756f4761fd0c5f}{CLOSURE}}(ProdVecType*\textcolor{keyword}{const});}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ace1ec8ba42859eae2b9ef325c819f5e9}{GOTO}}(\textcolor{keyword}{const}\ SymbolType\&,\ ProdVecType*\textcolor{keyword}{const});}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \ \ \};}
\DoxyCodeLine{00299\ \}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{comment}{//\ IMPLEMENTATION}}
\DoxyCodeLine{00302\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacem0st4fa}{m0st4fa}}\ \{}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keywordtype}{bool}\ ItemSet<ItemT>::\_add\_to\_closure\_no\_lookaheads(\textcolor{keyword}{const}\ ProdVecType\&\ symbolProductions)}
\DoxyCodeLine{00306\ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inserted\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}(Possibly)\ adding\ new\ items\ to\ the\ closure\ of\ an\ item\ set"{}}));}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Closure\ before:\(\backslash\)n\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{m0st4fa::toString}}(this-\/>m\_Closure,\ \textcolor{keyword}{false})));}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ go\ through\ every\ production\ and\ insert\ the\ non-\/kernel\ items\ you\ create\ into\ the\ closure.}}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ ProductionType\&\ production\ :\ symbolProductions)\ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ItemT\ item\ =\ ItemT\{\ production,\ 0\ \};}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ an\ item\ with\ the\ same\ first\ component}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ it\ =\ this-\/>get\_item\_it(item.production,\ item.dotPos,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ end\ =\ this-\/>m\_Closure.end();}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ found\ =\ it\ !=\ end;}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ no\ entry\ with\ the\ same\ first\ component\ is\ found}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ found)\ \{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Closure.push\_back(item);}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inserted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{comment}{//\ if\ one\ was\ found,\ we\ cannot\ insert\ it\ again}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Closure\ after:\(\backslash\)n\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{m0st4fa::toString}}(this-\/>m\_Closure,\ \textcolor{keyword}{false})));}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inserted;}
\DoxyCodeLine{00330\ \ \ \ \ \}}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keywordtype}{bool}\ ItemSet<ItemT>::\_add\_to\_closure\_lookaheads(\textcolor{keyword}{const}\ ProdVecType\&\ symbolProductions,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespacem0st4fa_a92cb581ad9fc39702677dc3d050185fa}{LookAheadSet}}\&\ lookaheads)}
\DoxyCodeLine{00334\ \ \ \ \ \{}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inserted\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Closure\ before:\(\backslash\)n\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{m0st4fa::toString}}(this-\/>m\_Closure,\ \textcolor{keyword}{false})));}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ go\ through\ every\ production\ and\ insert\ the\ non-\/kernel\ items\ you\ create\ into\ the\ closure.}}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ ProductionType\&\ production\ :\ symbolProductions)\ \{}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ItemT\ item\ =\ ItemT\{\ production,\ 0\ \};}
\DoxyCodeLine{00341\ }
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ go\ through\ every\ production\ and\ insert\ the\ non-\/kernel\ items\ you\ create\ into\ the\ closure}}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ ProductionType\&\ production\ :\ symbolProductions)\ \{}
\DoxyCodeLine{00344\ }
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ an\ item\ with\ the\ same\ first\ component}}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ it\ =\ this-\/>get\_item\_it(production,\ 0,\ \textcolor{keyword}{false});}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ end\ =\ this-\/>m\_Closure.end();}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ found\ =\ it\ !=\ end;}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ an\ entry\ with\ the\ same\ first\ component\ is\ found}}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (found)\ \{}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (insertAndAssert(lookaheads,\ it-\/>lookaheads))}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inserted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ no\ entry\ with\ the\ same\ first\ component\ is\ found}}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ item\ =\ ItemT\{\ production,\ 0,\ lookaheads\ \};}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Closure.push\_back(item);}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inserted\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Adding\ new\ item\ \{\}\ to\ the\ closure\ of\ the\ item\ set"{}},\ item.toString()));}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \}\ \ \ \ \ \ \ }
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Closure\ after:\(\backslash\)n\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{m0st4fa::toString}}(this-\/>m\_Closure,\ \textcolor{keyword}{false})));}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ inserted;}
\DoxyCodeLine{00370\ \ \ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00373\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a73dea718d6fc79303c53c87ca5db6c78}{ItemSet<ItemT>::contains}}(\textcolor{keyword}{const}\ ItemT\&\ item)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00374\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ this-\/>m\_Set.begin();}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ this-\/>m\_Set.end();}
\DoxyCodeLine{00377\ }
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ predicate\ =\ [\textcolor{keyword}{this},\ \&item](\textcolor{keyword}{const}\ ItemT\&\ i)\ \{}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 'item'\ is\ considered\ found\ if\ we\ found\ an\ 'i'\ such\ that:}}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1.\ the\ first\ components\ are\ the\ same.}}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 2.\ the\ second\ compoenent\ of\ 'item'\ is\ a\ subset\ of\ its\ 'i's\ counterpart.}}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ equality\ of\ the\ first\ components}}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (item.dotPos\ !=\ i.dotPos\ \&\&\ item.production\ !=\ i.production)}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ item.lookaheads\ is\ a\ subset\ of\ i.lookaheads}}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ i.e.\ if\ i.lookaheads\ includes\ item.lookaheads}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ ibegin\ =\ i.lookaheads.begin();}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ iend\ =\ i.lookaheads.end();}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ itembegin\ =\ item.lookaheads.begin();}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ itemend\ =\ item.lookaheads.end();}
\DoxyCodeLine{00394\ }
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::includes(ibegin,\ iend,\ itembegin,\ itemend);}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (std::find\_if(begin,\ end,\ predicate)\ !=\ end);}
\DoxyCodeLine{00399\ \ \ \ \ \}}
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{comment}{//\ TODO:\ OPTIMIZE\ THIS\ FUNCTION}}
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_aeb7323ac9d1b201aea63b995c1327207}{ItemSet<ItemT>::hasIdenticalCore}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00404\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>size()\ !=\ other.\mbox{\hyperlink{classm0st4fa_1_1_item_set_aef59afa75fff418fd37fd2a48c96ea08}{size}}())}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ thisBegin\ =\ this-\/>m\_Set.begin();}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ thisEnd\ =\ this-\/>m\_Set.end();}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ otherBegin\ =\ other.m\_Set.begin();}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ otherEnd\ =\ other.m\_Set.end();}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ pred\ =\ [\textcolor{keyword}{this},\ \&other,\ otherBegin,\ otherEnd](\textcolor{keyword}{const}\ ItemT\&\ thisItem)\ \{}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ t\ =\ std::any\_of(otherBegin,\ otherEnd,\ [\&thisItem](\textcolor{keyword}{const}\ ItemT\&\ otherItem)\ \{}
\DoxyCodeLine{00415\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ thisItem.hasIdenticalCore(otherItem);}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ t;}
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ they\ have\ the\ same\ size,\ they\ may\ have\ the\ same\ cores}}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::all\_of(thisBegin,\ thisEnd,\ pred);}
\DoxyCodeLine{00423\ \ \ \ \ \}}
\DoxyCodeLine{00424\ }
\DoxyCodeLine{00425\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{keyword}{inline}\ ItemT\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a6e02905c715b9407b1c0cf097157333e}{ItemSet<ItemT>::get}}(\textcolor{keyword}{const}\ ProductionType\&\ production,\ \textcolor{keywordtype}{size\_t}\ dotPosition)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00427\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ begin\ =\ this-\/>m\_Set.begin();}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ end\ =\ this-\/>m\_Set.end();}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ predicate\ =\ [\textcolor{keyword}{this},\ \&production,\ \&dotPosition](\textcolor{keyword}{const}\ ItemT\&\ item)\ \{}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ itemProd\ =\ item.production;}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ itemDotPos\ =\ item.dotPos;}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (itemDotPos\ ==\ dotPosition)\ \&\&\ (itemProd\ ==\ production);}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ it\ =\ std::find\_if(begin,\ end,\ predicate);}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ return\ an\ item\ if\ it\ is\ found,\ else\ return\ an\ empty\ item}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (it\ ==\ end\ ?\ ItemT\{\}\ :\ *it);}
\DoxyCodeLine{00442\ \ \ \ \ \}}
\DoxyCodeLine{00443\ }
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a642964c44ba0f376a7a08c14915893a1}{ItemSet<ItemT>::insert}}(\textcolor{keyword}{const}\ ItemT\&\ item)}
\DoxyCodeLine{00446\ \ \ \ \ \{}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ an\ item\ with\ the\ same\ first\ component}}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ it\ =\ this-\/>get\_item\_it(item.production,\ item.dotPos);}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ end\ =\ this-\/>m\_Set.end();}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ found\ =\ it\ !=\ end;}
\DoxyCodeLine{00451\ }
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ an\ entry\ with\ the\ same\ first\ component\ is\ found}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (found)}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ insertAndAssert(item.lookaheads,\ it-\/>lookaheads);}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ no\ entry\ with\ the\ same\ first\ component\ is\ found}}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ this-\/>m\_Set.push\_back(item);}
\DoxyCodeLine{00458\ }
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00460\ \ \ \ \ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00462\ \ \ \ \ \textcolor{comment}{//\ TODO:\ OPTIMIZE\ THIS\ FUNCTION}}
\DoxyCodeLine{00463\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a17e42364af7782a3a78804e4be4f7cff}{ItemSet<ItemT>::merge}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\&\ other)}
\DoxyCodeLine{00465\ \ \ \ \ \{}
\DoxyCodeLine{00466\ }
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ ItemT\&\ item\ :\ other.m\_Set)\ \{}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ itemIt\ =\ std::find\_if(m\_Set.begin(),\ m\_Set.end(),\ [\&item](\textcolor{keyword}{const}\ ItemT\&\ i)\ \{}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ return\ item.hasIdenticalCore(i);}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ item\ does\ not\ exist}}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (itemIt\ ==\ m\_Set.end())\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Set.push\_back(item);}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ such\ an\ item\ exists}}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \ \ itemIt-\/>lookaheads.insert(item.lookaheads.begin(),\ item.lookaheads.end());}
\DoxyCodeLine{00480\ }
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00482\ }
\DoxyCodeLine{00483\ }
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00485\ \ \ \ \ \}}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00488\ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet<ItemT>}}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_a063d4b917c85430eb5756f4761fd0c5f}{ItemSet<ItemT>::CLOSURE}}(\mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}*\textcolor{keyword}{const}\ grammarPtr)}
\DoxyCodeLine{00489\ \ \ \ \ \{}
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ the\ closure\ is\ already\ calculated}}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_Closure.size()\ >\ 0)\ \{}
\DoxyCodeLine{00492\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(\textcolor{stringliteral}{"{}CLOSURE\ set\ for\ this\ item\ set\ has\ already\ been\ calculated!"{}});}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>m\_Closure;}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}\&\ grammar\ =\ *grammarPtr;}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ the\ set\ is\ not\ empty\ (its\ closure\ would\ therefore\ be\ empty)}}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_Set.size()\ ==\ 0)\ \{}
\DoxyCodeLine{00499\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::WARNING,\ \textcolor{stringliteral}{"{}Item\ set\ is\ emtpy.\ Returning\ empty\ CLOSURE!"{}});}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ keep\ track\ of\ alternative\ productions\ of\ symbols}}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ std::vector<size\_t>\ alternativeProduction[(size\_t)VariableType::NT\_COUNT]\{\};}
\DoxyCodeLine{00505\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ prodIndex\ =\ 0;\ \textcolor{keyword}{const}\ ProductionType\ \&\ prod\ :\ grammar.\mbox{\hyperlink{classm0st4fa_1_1_production_vector_a70ca64406cb13d4b6c61f261c26279d2}{getVector}}())\ \{}
\DoxyCodeLine{00506\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ varIndex\ =\ (size\_t)prod.prodHead.as.nonTerminal;}
\DoxyCodeLine{00507\ \ \ \ \ \ \ \ \ \ \ \ \ alternativeProduction[varIndex].push\_back(prodIndex);}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ prodIndex++;}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(\textcolor{stringliteral}{"{}\(\backslash\)nCALCULATING\ CLOSURE\ SET:\(\backslash\)n"{}});}
\DoxyCodeLine{00512\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Items\ set:\(\backslash\)n\ \{\}"{}},\ (std::string)*\textcolor{keyword}{this}));}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ initialize\ the\ closure\ to\ the\ item\ set}}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ this-\/>m\_Closure\ =\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\{this-\/>m\_Set\};}
\DoxyCodeLine{00516\ }
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ whether\ the\ items\ are\ LR(0)\ or\ they\ have\ lookaheads}}
\DoxyCodeLine{00518\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ isLR0\ =\ this-\/>m\_Closure.\mbox{\hyperlink{classm0st4fa_1_1_item_set_a87c6b0680a8007b906c015460daf0e41}{at}}(0).lookaheads.size()\ ==\ 0;}
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ std::vector<std::set<SymbolType>>\ first\{\};}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (not\ isLR0)}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \ \ \ grammar.calculateFIRST(),\ first\ =\ grammar.\mbox{\hyperlink{classm0st4fa_1_1_production_vector_a94194be9ecc6157931ac83116f4187f9}{getFIRST}}();}
\DoxyCodeLine{00522\ }
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}The\ items\ in\ this\ set\ are\ LR(\{\})"{}},\ isLR0\ ?\ \textcolor{stringliteral}{"{}0"{}}\ :\ \textcolor{stringliteral}{"{}1"{}}));}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ for\ every\ item\ of\ the\ closure,\ calculate\ the\ closure\ of\ that\ item}}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ this-\/>m\_Closure.size();\ i++)\ \{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ItemT\ item\ =\ this-\/>m\_Closure.at(i);}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Current\ item\ being\ scanned\ for\ CLOSURE:\{\}"{}},item.toString()));}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ProductionType\&\ itemProd\ =\ item.production;}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ dot\ is\ at\ the\ end\ of\ the\ production}}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (itemProd.size()\ ==\ item.dotPos)}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};\ \textcolor{comment}{//\ there\ is\ nothing\ more\ to\ add}}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ symbol\ before\ the\ dot;\ note\ that\ it\ is\ guaranteed\ to\ be\ a\ symbol}}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ BUG:\ item.getActualDotPosition()}}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolType\&\ symbolAfterDot\ =\ itemProd.at(item.getActualDotPosition()).as.gramSymbol;}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Symbol\ after\ dot\ is\ \{\}"{}},\ symbolAfterDot.toString()));}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00540\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ this\ symbol\ is\ a\ non-\/terminal}}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (symbolAfterDot.isTerminal)\ \{}
\DoxyCodeLine{00542\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it\ is\ a\ terminal,\ the\ closure\ of\ the\ item\ is\ itself\ and\ the\ itemisalrea\ there\ in\ the\ closure\ (since\ we\ are\ checking\ it\ now)}}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(\textcolor{stringliteral}{"{}No\ other\ item\ has\ been\ added\ to\ CLOSURE"{}});}
\DoxyCodeLine{00544\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we\ are\ here,\ the\ symbol\ is\ a\ non-\/terminal}}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ all\ the\ productions\ for\ that\ non-\/terminal\ (all\ of\ its\ alternatives)}}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}\ symbolProductions\ \{\};}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<size\_t>\&\ prods\ =\ alternativeProduction[(size\_t)symbolAfterDot.as.nonTerminal];}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ prodIndex\ :\ prods)}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symbolProductions.pushProduction(grammar.\mbox{\hyperlink{classm0st4fa_1_1_production_vector_a9d9eda2c74ae36ad919f427e3534a7b9}{at}}(prodIndex));}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}The\ alternatives\ of\ non-\/terminal\ \{\}\ are:\ \{\}"{}},symbolAfterDot.toString(),\ symbolProductions.toString()));}
\DoxyCodeLine{00555\ }
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ the\ new\ items\ to\ the\ closure}}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isLR0)}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_add\_to\_closure\_no\_lookaheads(symbolProductions);}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//\ it\ is\ LR(1)}}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ predIsGramSymbol\ =\ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ stackElement)\ \{}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ stackElement.type\ ==\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a42c1ebc8f84ef20ad44c7d006106e749}{ProdElementType::PET\_GRAM\_SYMBOL}};}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ calculate\ the\ lookaheads}}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ prodSize\ =\ itemProd.prodBody.size();}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ startIndex\ =\ item.getActualDotPosition()\ +\ 1;}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string}{SymbolStringType}}\ symString\{\};}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ following\ loop\ corresponds\ to:\ std::copy\_if(begin\ +\ startIndex,\ end,\ symString.symbols,\ predIsGramSymbol);}}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prodBody\ =\ itemProd.prodBody;}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ startIndex;\ i\ <\ prodBody.size();\ i++)\ \{}
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ se\ =\ prodBody.at(i);}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ \`{}se`\ is\ a\ grammar\ symbol,\ conncatenate\ its\ corresponding\ grammar\ symbol\ with\ \`{}symString`}}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (predIsGramSymbol(se))}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ symString.\mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string_ac24ebae3e5d95e2cb637287860a910fa}{push\_back}}(se.as.gramSymbol);}
\DoxyCodeLine{00578\ }
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00580\ }
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}For\ item\ \{\}\ =>\ Initial\ string\ after\ the\ grammar\ symbol:\ \{\}"{}},\ item.toString(),\ symString.toString()));}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ go\ through\ each\ lookahead;\ each\ lookahead\ corresponds\ to\ a\ distinct\ item}}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ SymbolType\&\ lookahead\ :\ item.lookaheads)\ \{}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ string\ for\ the\ current\ item}}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string}{SymbolStringType}}\ tempSymString\ =\ symString;}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tempSymString.\mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string_ac24ebae3e5d95e2cb637287860a910fa}{push\_back}}(lookahead);}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ the\ lookaheads\ of\ the\ current\ item}}
\DoxyCodeLine{00590\ }
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tempSymString.\mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string_aab4d004914ab6b13ded761093d2cf1b2}{calculateFIRST}}(first);}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LookAheadSet\ lookaheads\{tempSymString.\mbox{\hyperlink{classm0st4fa_1_1_grammatical_symbol_string_a333715649c6ecc8a863125f6b7a0f633}{getFIRST}}()\};}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}The\ lookaheads\ for\ the\ current\ item\ is:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{m0st4fa::toString}}(lookaheads)));}
\DoxyCodeLine{00595\ }
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ add\ the\ item\ to\ the\ CLOSURE\ set}}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_add\_to\_closure\_lookaheads(symbolProductions,\ lookaheads);}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00599\ }
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00602\ }
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\ res\{\ this-\/>m\_Closure,\ \textcolor{keyword}{true}\ \};}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00605\ \ \ \ \ \}}
\DoxyCodeLine{00606\ }
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ItemT>}
\DoxyCodeLine{00608\ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet<ItemT>}}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set_ace1ec8ba42859eae2b9ef325c819f5e9}{ItemSet<ItemT>::GOTO}}(\textcolor{keyword}{const}\ SymbolType\&\ symbol,\ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}*\textcolor{keyword}{const}\ grammarPtr)}
\DoxyCodeLine{00609\ \ \ \ \ \{}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ whether\ the\ closure\ is\ already\ calculated}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_Closure.size()\ ==\ 0)\ \{}
\DoxyCodeLine{00612\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::INFO,\ \textcolor{stringliteral}{"{}CLOSURE\ set\ is\ not\ already\ calculated\ for\ this\ set!\ Calculating\ it\ now."{}});}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00614\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>CLOSURE(grammarPtr);}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_production_vector}{ProdVecType}}\&\ grammar\ =\ *grammarPtr;}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(\textcolor{stringliteral}{"{}\(\backslash\)nCALCULATING\ GOTO\ SET:\(\backslash\)n"{}});}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Item\ set:\(\backslash\)n\ \{\}"{}},\ (std::string)*\textcolor{keyword}{this}));}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}GOTO\ symbol\ is\ \{\}"{}},\ (std::string)symbol));}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet<ItemT>}}\ result\ =\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet}}\{\};}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ assuming\ symbol\ is\ \`{}B`}}
\DoxyCodeLine{00625\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ figure\ out\ whether\ there\ exists\ an\ item\ of\ the\ form:}}
\DoxyCodeLine{00626\ \textcolor{comment}{\ \ \ \ \ \ \ \ \ \ \ \ [A\ -\/>\ alpha\ .B\ beta,\ a]}}
\DoxyCodeLine{00627\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet<ItemT>}}\ foundItems\{\};}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ this-\/>m\_Closure.size();\ i++)\ \{}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ predicate\ =\ [\&symbol](\textcolor{keyword}{const}\ ItemT\&\ item)\ \{}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ dotPos\ =\ item.getActualDotPosition();}
\DoxyCodeLine{00632\ }
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ skip\ this\ item\ if\ the\ dot\ is\ at\ the\ end}}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (item.production.size()\ ==\ dotPos)}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00636\ }
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolType\&\ sym\ =\ item.production.\mbox{\hyperlink{classm0st4fa_1_1_item_set_a87c6b0680a8007b906c015460daf0e41}{at}}(dotPos).as.gramSymbol;}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ sym\ ==\ symbol;}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ItemT\ currItem\ =\ this-\/>m\_Closure.at(i);}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ symbolAfterDot\ ==\ symbol}}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (predicate(currItem))}
\DoxyCodeLine{00645\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ foundItems.insert(currItem);}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00647\ }
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ figure\ out\ whether\ such\ an\ item\ exists}}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ found\ =\ foundItems.size()\ >\ 0;}
\DoxyCodeLine{00650\ }
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ such\ an\ item\ is\ found}}
\DoxyCodeLine{00652\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (found)\ \{}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ itemVec\ =\ foundItems.getItemVector();}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ ItemT\&\ item\ :\ itemVec)\ \{}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ create\ new\ item}}
\DoxyCodeLine{00656\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ newDotPos\ =\ item.dotPos\ +\ 1;}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ERR:\ THE\ EXCEPTION\ IS\ HERE!!!}}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ItemT\ kernelItem\ =\ ItemT\{\ item.production,\ newDotPos,\ item.lookaheads\ \};}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ insert\ the\ item\ in\ \`{}result`}}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ result.\mbox{\hyperlink{classm0st4fa_1_1_item_set_a642964c44ba0f376a7a08c14915893a1}{insert}}(kernelItem);}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::DEBUG,\ std::format(\textcolor{stringliteral}{"{}Inserting\ kernel\ item\ \{\}\ to\ the\ GOTO\ set."{}},\ kernelItem.toString()));}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00665\ }
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00667\ }
\DoxyCodeLine{00668\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_item_set}{ItemSet<ItemT>}}\ resultClosure\ =\ result.\mbox{\hyperlink{classm0st4fa_1_1_item_set_a063d4b917c85430eb5756f4761fd0c5f}{CLOSURE}}(grammarPtr);}
\DoxyCodeLine{00669\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}GOTO\ Set\ for\ the\ items:\ \(\backslash\)n\{\}"{}},\ (std::string)resultClosure));}
\DoxyCodeLine{00670\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ resultClosure;}
\DoxyCodeLine{00671\ \ \ \ \ \}}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00673\ \}}

\end{DoxyCode}
