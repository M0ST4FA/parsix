\hypertarget{_l_l_parser_8hpp_source}{}\doxysection{LLParser.\+hpp}
\mbox{\hyperlink{_l_l_parser_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ std\ includes}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{comment}{//\ local\ includes}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_parser_8h}{Parser.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacem0st4fa}{m0st4fa}}\ \{}
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ GrammarT,}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT\ =\ \mbox{\hyperlink{structm0st4fa_1_1_l_l_parsing_table}{LLParsingTable<GrammarT>}},\ \textcolor{keyword}{typename}\ FSMTableT\ =\ FSMTable,}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT\ =\ std::string>}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classm0st4fa_1_1_l_l_parser}{LLParser}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classm0st4fa_1_1_parser}{Parser}}<LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ProductionType\ =\ \textcolor{keyword}{decltype}(GrammarT\{\}.getProdVector().at(0));}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }StackElementType\ =\ \textcolor{keyword}{decltype}(ProductionType\{\}.get(0));}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }SynthesizedType\ =\ \textcolor{keyword}{decltype}(StackElementType\{\}.as.synRecord);}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }SynDataType\ =\ \textcolor{keyword}{decltype}(SynthesizedType\{\}.data);}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ActionType\ =\ \textcolor{keyword}{decltype}(StackElementType\{\}.as.actRecord);}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ActDataType\ =\ \textcolor{keyword}{decltype}(ActionType\{\}.data);}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classm0st4fa_1_1_parser}{ParserBase}}\ =\ \mbox{\hyperlink{classm0st4fa_1_1_parser}{Parser<LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>}};}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }TokenType\ =\ \textcolor{keyword}{decltype}(LexicalAnalyzerT\{\}.getNextToken());}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ a\ parsing\ table\ entry\ should\ contain\ indecies\ into\ this\ vector\ of\ productions}}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ GrammarT\&\ m\_ProdRecords;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ std::vector<StackElementType>\ m\_Stack;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ StackElementType\ m\_CurrTopElement;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ TokenType\ m\_CurrInputToken;}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ PARSER\ FUNCTIONS}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ reset\_parser\_state(\textcolor{keywordtype}{bool}\ resetProductions\ =\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.clear();}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrTopElement\ =\ StackElementType\{\};}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken\ =\ TokenType\{\};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (resetProductions)}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_ProdRecords.clear();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ parse\_grammar\_symbol(\mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}});}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ERROR\ RECOVERY\ FUNCTIONS}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @brief\ implements\ error\ recovery.}}
\DoxyCodeLine{00047\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ error\_recovery(\mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ errRecovType\ =\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba45bec99244903a5c7ebc17edeafbeebf}{ErrorRecoveryType::ERT\_NONE}})\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ the\ error\ recovery\ limit}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{size\_t}\ numOfDetectedErrs\ =\ 0;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (errRecovType\ !=\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba45bec99244903a5c7ebc17edeafbeebf}{ErrorRecoveryType::ERT\_NONE}}\ \&\&}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ errRecovType\ !=\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba9e4eefe4a7e861dbece7026844f35843}{ErrorRecoveryType::ERT\_ABORT}}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (numOfDetectedErrs\ ==\ \mbox{\hyperlink{classm0st4fa_1_1_parser_afdc41afb728d0ce2d8e77c53f2739254}{ParserBase::ERR\_RECOVERY\_LIMIT}})\ \{}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LoggerInfo\ errInfo\ =\ \{\ .level\ =\ LOG\_LEVEL::LL\_ERROR,\ .info\ =\ \{.errorType\ =\ ERROR\_TYPE::ET\_ERR\_RECOVERY\_LIMIT\_EXCEEDED\ \}\ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(errInfo,\ std::format(\textcolor{stringliteral}{"{}Exceeded\ error\ recovery\ limit\(\backslash\)nNote:\ error\ recovery\ limit\ \{\}"{}},\ \mbox{\hyperlink{classm0st4fa_1_1_parser_afdc41afb728d0ce2d8e77c53f2739254}{ParserBase::ERR\_RECOVERY\_LIMIT}}));}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error\{\ \textcolor{stringliteral}{"{}Limit\ of\ recovered-\/from\ errors\ exceeded"{}}\ \};}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ hande\ invalid\ arguments}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (errRecovType\ ==\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba4147d108bf51309660bc7347d1812ab5}{ErrorRecoveryType::ERT\_NUM}})\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LoggerInfo\ info\ =\ \{\ .level\ =\ LOG\_LEVEL::LL\_ERROR,\ .info\ \{.errorType\ =\ ERROR\_TYPE::ET\_INVALID\_ARGUMENT\}\ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(info,\ \textcolor{stringliteral}{"{}[ERR\_RECOVERY]:\ Invalid\ argument."{}});}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::invalid\_argument(\textcolor{stringliteral}{"{}Argument\ ERT\_NONE\ cannot\ be\ used\ in\ this\ context.\(\backslash\)nNote:\ it\ is\ just\ for\ knowing\ the\ number\ of\ possible\ values\ of\ this\ enum."{}});}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.logDebug(\textcolor{stringliteral}{"{}[ERR\_RECOVERY]:\ started\ error\ recovery:\ "{}}\ +\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(errRecovType));}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (errRecovType)\ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba45bec99244903a5c7ebc17edeafbeebf}{ErrorRecoveryType::ERT\_NONE}}:}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985babc99a67757c7e551ab9a18435633c115}{ErrorRecoveryType::ERT\_PANIC\_MODE}}:}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ panic\_mode();}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba82655a5badf98c8320960a1667c6f0e9}{ErrorRecoveryType::ERT\_PHRASE\_LEVE}}:}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ phrase\_level();}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba429f48efe183786b4a428a3c14dbcd2b}{ErrorRecoveryType::ERT\_GLOBAL}}:}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ global();}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba9e4eefe4a7e861dbece7026844f35843}{ErrorRecoveryType::ERT\_ABORT}}:}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ handle\ this\ in\ a\ different\ way\ (possibly\ by\ throwing\ an\ exception\ to\ abort\ the\ parser)}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::abort();}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00101\ \textcolor{comment}{\ \ \ \ \ \ \ \ *\ @brief\ implements\ panic\ mode\ error\ recovery.}}
\DoxyCodeLine{00102\ \textcolor{comment}{\ \ \ \ \ \ \ \ */}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ panic\_mode();}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ panic\_mode\_try\_sync\_variable(TokenType\&);}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ implement\ phrase\ level\ and\ global\ error\ recovery}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ phrase\_level()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \};}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ global()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\ \};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ error\ helper\ functions}}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ check\_prod\_body(\textcolor{keyword}{const}\ ProductionType\&)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ print\_sync\_msg(\textcolor{keyword}{const}\ std::pair<size\_t,\ size\_t>\ pos)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ LoggerInfo\ info\ =\ \{\ .level\ =\ LOG\_LEVEL::LL\_INFO,\ .info\ =\ \{.noVal\ =\ 0\}\ \};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\ =\ std::format(\textcolor{stringliteral}{"{}(\{\},\ \{\})\ Syncronized\ successfully.\ Current\ input\ token\ \{\}"{}},}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.first,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pos.second,}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (std::string)m\_CurrInputToken);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(info,\ msg);}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ constructors}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_l_parser_a6c7ba621590bc74f9d87f338c56cab0a}{LLParser}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_l_parser_a99d48472a19cd7c5346041d2955856e0}{LLParser}}(}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolT\&\ startSymbol,}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ParsingTableT\&\ parsingTable,}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LexicalAnalyzer<TokenType,\ FSMTableT>\&\ lexer}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ )\ :}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_parser}{Parser}}<LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \{\ lexer,\ parsingTable,\ startSymbol\ \},}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ m\_ProdRecords\{\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_ac238b151fa4253850fcdb23e403105c5}{p\_Table}}.grammar\ \},}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack\{\},}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken\{\},}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrTopElement\{\}}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \{\};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_l_parser_ac554e010c5d6c24b6f6e09415683fec9}{\string~LLParser}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ methods}}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ determine\ what\ the\ parse\ function\ should\ return.}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ParserResultT>}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ ParserResultT\ \mbox{\hyperlink{classm0st4fa_1_1_l_l_parser_a93e2f34f5f5ed24201c5e46651387304}{parse}}(\mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ =\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba45bec99244903a5c7ebc17edeafbeebf}{ErrorRecoveryType::ERT\_NONE}});}
\DoxyCodeLine{00157\ \ \ \ \ \};}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{comment}{//\ IMPLEMENTATIONS}}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ParserResultT>}
\DoxyCodeLine{00165\ \ \ \ \ ParserResultT\ \mbox{\hyperlink{classm0st4fa_1_1_l_l_parser_a93e2f34f5f5ed24201c5e46651387304}{LLParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>::parse}}(\mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ errRecoveryType)}
\DoxyCodeLine{00166\ \ \ \ \ \{}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\ =\ std::vector<StackElementType>;}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ ParserResultT\ res;}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ LoggerInfo\ info\{\ LoggerInfo::INFO\ \};}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Initalize\ the\ algorithm,\ such\ that\ the\ parser\ is\ in\ the\ initial\ configuration}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ m\_Stack.push\_back(\{\ .type\ =\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a42c1ebc8f84ef20ad44c7d006106e749}{ProdElementType::PET\_GRAM\_SYMBOL}},\ .as\ =\ \{.gramSymbol\ =\ this-\/>get\_start\_symbol()\ \}\ \});}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ this-\/>m\_CurrInputToken\ =\ this-\/>getLexicalAnalyzer().get\_next\_token();}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (-\/not\ m\_Stack.empty())\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ current\ symbol\ on\ top\ of\ the\ stack,\ pop\ it\ and\ get\ the\ next\ input\ token}}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrTopElement\ =\ m\_Stack.back();}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.pop\_back();}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ switch\ on\ the\ type\ of\ the\ top\ symbol}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (m\_CurrTopElement.type)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a42c1ebc8f84ef20ad44c7d006106e749}{ProdElementType::PET\_GRAM\_SYMBOL}}:}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ parse\_grammar\_symbol(errRecoveryType);}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a9481daa12ff1ba8e612529a1f8d9e313}{ProdElementType::PET\_SYNTH\_RECORD}}:\ \{}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ extract\ the\ record}}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ SynthesizedType\ topRecord\ =\ m\_CurrTopElement.as.synRecord;}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ action\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}(*)(\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\&,\ SynDataType\&)\textcolor{keyword}{>}(topRecord.action);}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ execute\ the\ action\ if\ any}}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (action)}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ action(this-\/>m\_Stack,\ topRecord.data);}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_a728a56a7d23cf8ec33aac9f9b420ba04a66ac71fe8e7f6134785f0112e619bfec}{ProdElementType::PET\_ACTION\_RECORD}}:\ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ extract\ the\ record}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ActionType\ topRecord\ =\ m\_CurrTopElement.as.actRecord;}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ action\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}(*)(\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\&,\ ActDataType\&)\textcolor{keyword}{>}(topRecord.action);}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ execute\ the\ action\ if\ any}}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (action)}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ action(this-\/>m\_Stack,\ topRecord.data);}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ reset\_parser\_state();}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00230\ \ \ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classm0st4fa_1_1_l_l_parser}{LLParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>::parse\_grammar\_symbol}}(\mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ errRecoveryType)\ \{}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }StackElement\ =\ StackElementType;}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ LoggerInfo\ info\{\ .level\ =\ LOG\_LEVEL::LL\_INFO,\ .info\ \{.noVal\ =\ 0\}\ \};}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolT\ topSymbol\ =\ m\_CurrTopElement.as.gramSymbol;}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ symbol\ at\ the\ top\ of\ the\ stack\ is\ a\ terminal\ symbol}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (topSymbol.isTerminal)\ \{}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ epsilon\ matches\ with\ nothing}}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (topSymbol\ ==\ TokenType::EPSILON)}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ match\ it\ explicitly}}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ matched\ =\ (topSymbol\ ==\ m\_CurrInputToken);}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Stack\ size\ before:\ \{\}"{}},\ m\_Stack.size()\ +\ 1));}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(info,\ std::format(\textcolor{stringliteral}{"{}Matched\ \{:s\}\ with\ \{:s\}:\ \{:s\}"{}},\ (std::string)topSymbol,\ (std::string)m\_CurrInputToken,\ matched\ ?\ \textcolor{stringliteral}{"{}true"{}}\ :\ \textcolor{stringliteral}{"{}false"{}}));}
\DoxyCodeLine{00253\ }
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ next\ input\ token}}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken\ =\ this-\/>getLexicalAnalyzer().\mbox{\hyperlink{classm0st4fa_1_1_parser_a50baaace773ba3ad204057557383ff87}{get\_next\_token}}();}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ symbol\ at\ the\ top\ of\ the\ stack\ is\ not\ a\ terminal\ symbol\ and\ the\ input\ token\ is\ not\ matched,}}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (-\/not\ matched)}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ error\_recovery(errRecoveryType);}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ symbol\ is\ a\ non-\/terminal\ symbol}}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ production\ record\ for\ the\ current\ symbol\ and\ input}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ LLTableEntry\ tableEntry\ =\ this-\/>p\_Table[\mbox{\hyperlink{_p_stack_8h_ae6fc7ee892e10e56462af772bad1668e}{EXTRACT\_VARIABLE}}(this-\/>m\_CurrTopElement)][(size\_t)m\_CurrInputToken.name];}
\DoxyCodeLine{00265\ }
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ table\ entry\ is\ an\ error}}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tableEntry.isError)\ \{}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO:\ do\ more\ robust\ logic\ based\ on\ the\ boolean\ returned\ from\ the\ function}}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ error\_recovery(errRecoveryType);}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};\ \textcolor{comment}{//\ assuming\ we\ have\ syncronized\ and\ are\ ready\ to\ continue\ parsing}}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ table\ entry\ is\ not\ an\ error}}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Caution:\ this\ is\ a\ reference}}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prod\ =\ this-\/>m\_ProdRecords[tableEntry.prodIndex];}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prodBody\ =\ prod.prodBody;}
\DoxyCodeLine{00278\ }
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ that\ the\ production\ body\ is\ not\ empty}}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ check\_prod\_body(prod);}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ push\ the\ body\ of\ the\ production\ on\ top\ of\ the\ stack}}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ prodBody.rbegin();\ it\ !=\ prodBody.rend();\ ++it)\ \{}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ StackElement\ se\ =\ *it;}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.push\_back(se);}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.logDebug(std::format(\textcolor{stringliteral}{"{}Stack\ size\ before:\ \{\}"{}},\ m\_Stack.size()\ +\ 1));}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(info,\ std::format(\textcolor{stringliteral}{"{}Expanded\ \{:s\}\ with\ \{:s\}:\ \{:s\}"{}},\ (std::string)topSymbol,\ (std::string)m\_CurrInputToken,\ (std::string)prod));}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{keywordtype}{bool}\ LLParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>::panic\_mode()}
\DoxyCodeLine{00300\ \ \ \ \ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\ =\ StackType<StackElementType>;}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ top\ stack\ element}}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ currInputToken\ =\ this-\/>m\_CurrInputToken;}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolT\ topSymbol\ =\ m\_CurrTopElement.as.gramSymbol;}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ set\ up\ the\ logger\ state}}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ LoggerInfo\ info\{\ .level\ =\ LOG\_LEVEL::LL\_INFO,\ .info\ \{.noVal\ =\ 0\}\ \};}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ LoggerInfo\ errInfo\{\ .level\ =\ LOG\_LEVEL::LL\_ERROR,\ .info\ \{.errorType\ =\ ERROR\_TYPE::ET\_UNEXCPECTED\_TOKEN\ \}\ \};}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(errInfo,\ std::format(}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}(\{\},\ \{\})\ Didn't\ excpect\ token\ \{:s\}"{}},}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>getLexicalAnalyzer().getLine(),}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>getLexicalAnalyzer().getCol(),}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ (std::string)this-\/>m\_CurrInputToken}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ ));}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ loop\ until\ the\ input\ and\ the\ stack\ are\ synchronized}}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ top\ symbol\ is\ a\ terminal}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (topSymbol.isTerminal)\ \{}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(info,\ std::format(}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Added\ lexeme\ \{:s\}\ to\ the\ input\ stream."{}},\ currInputToken.attribute)}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pop\ the\ token\ of\ the\ stack\ and\ return\ to\ the\ parser}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.pop\_back();}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ top\ symbol\ is\ a\ non-\/terminal}}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ peak\ to\ see\ the\ next\ token}}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ currInputToken\ =\ this-\/>getLexicalAnalyzer().peak();}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ if\ it\ can\ be\ used\ to\ sync\ with\ the\ parser}}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ synced\ =\ this-\/>panic\_mode\_try\_sync\_variable(currInputToken);}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (synced)}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ we've\ reached\ the\ end\ of\ the\ input\ and\ could\ not\ sync\ with\ this\ token}}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_CurrInputToken\ ==\ TokenType\{\})\ \{}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pop\ this\ element\ since\ there\ is\ no\ way\ to\ syncronize\ using\ it}}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.pop\_back();}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ stack\ is\ empty,\ return\ to\ the\ caller}}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_Stack.empty())\ \{}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(info,\ std::format(\textcolor{stringliteral}{"{}[ERROR\_RECOVERY]\ (\{\},\ \{\})\ Failed\ to\ syncronize:\ current\ input:\ \{:s\}"{}},}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>getLexicalAnalyzer().getLine(),}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>getLexicalAnalyzer().getCol(),}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (std::string)currInputToken}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ));}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00361\ \ \ \ \ \}}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keywordtype}{bool}\ LLParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>::panic\_mode\_try\_sync\_variable(TokenType\&\ currInputToken)\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\ =\ StackType<StackElementType>;}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ LoggerInfo\ info\{\ .level\ =\ LOG\_LEVEL::LL\_INFO,\ .info\ \{.noVal\ =\ 0\}\ \};}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ for\ whether\ the\ non-\/terminal\ has\ an\ epsilon\ production\ and\ use\ it\ to\ reduce\ that\ non-\/terminal.}}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ LLTableEntry\ tableEntry\ =\ this-\/>p\_Table[\mbox{\hyperlink{_p_stack_8h_ae6fc7ee892e10e56462af772bad1668e}{EXTRACT\_VARIABLE}}(this-\/>m\_CurrTopElement)][(size\_t)TokenType::EPSILON.name];}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it\ is\ not\ an\ err,\ there\ is\ an\ epsilon\ production}}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (-\/not\ tableEntry.isError)\ \{}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ expand\ with\ this\ production\ and\ assume\ we\ are\ in\ sync}}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Caution:\ this\ is\ a\ reference}}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prod\ =\ this-\/>m\_ProdRecords[tableEntry.prodIndex];}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prodBody\ =\ prod.prodBody;}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ that\ the\ production\ body\ is\ not\ empty}}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ \ check\_prod\_body(prod);}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ push\ the\ body\ of\ the\ production\ on\ top\ of\ the\ stack}}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ prodBody.rbegin();\ it\ !=\ prodBody.rend();\ ++it)\ \{}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ StackElementType\ se\ =\ *it;}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.push\_back(se);}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(info,\ std::format(\textcolor{stringliteral}{"{}[ERROR\_RECOVERY]\ Expanded\ \{:s\}\ with\ \{:s\}:\ \{:s\}"{}},}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(m\_CurrTopElement.as.gramSymbol.as.nonTerminal),}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken.toString(),}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prod.toString()));}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ print\_sync\_msg(this-\/>getLexicalAnalyzer().getPosition());}
\DoxyCodeLine{00403\ }
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ production\ record\ for\ the\ current\ symbol\ and\ input}}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ tableEntry\ =\ this-\/>p\_Table[\mbox{\hyperlink{_p_stack_8h_ae6fc7ee892e10e56462af772bad1668e}{EXTRACT\_VARIABLE}}(this-\/>m\_CurrTopElement)][(size\_t)currInputToken.name];}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tableEntry.isError)\ \{}
\DoxyCodeLine{00420\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ entry\ has\ an\ action}}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tableEntry.action)\ \{}
\DoxyCodeLine{00422\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ action\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{bool}\ (*)(\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}},\ StackElementType,\ TokenType)\textcolor{keyword}{>}(tableEntry.action);}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ action\ results\ in\ a\ syncronization}}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (action(m\_Stack,\ m\_CurrTopElement,\ currInputToken))\ \{}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken\ =\ this-\/>getLexicalAnalyzer().get\_next\_token();}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print\_sync\_msg(this-\/>getLexicalAnalyzer().getPosition());}
\DoxyCodeLine{00429\ }
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ entry\ has\ no\ action\ or\ the\ action\ has\ failed\ to\ syncronize}}
\DoxyCodeLine{00435\ }
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ next\ input\ and\ try\ again\ to\ syncronize}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken\ =\ this-\/>getLexicalAnalyzer().get\_next\_token();}
\DoxyCodeLine{00438\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/Syncronized-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00446\ \textcolor{comment}{}\ \ \ \ \ \ \ \ m\_CurrInputToken\ =\ this-\/>getLexicalAnalyzer().get\_next\_token();}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ print\_sync\_msg(this-\/>getLexicalAnalyzer().getPosition());}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00455\ \ \ \ \ \}}
\DoxyCodeLine{00456\ }
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00461\ \ \ \ \ \textcolor{keywordtype}{void}\ LLParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>::check\_prod\_body(\textcolor{keyword}{const}\ ProductionType\&\ prod)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ LoggerInfo\ errorInfo\{\ .level\ =\ LOG\_LEVEL::LL\_ERROR,\ .info\ \{.errorType\ =\ ERROR\_TYPE::ET\_PROD\_BODY\_EMPTY\ \}\ \};}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ prodBody\ =\ prod.prodBody;}
\DoxyCodeLine{00465\ }
\DoxyCodeLine{00466\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (prodBody.empty())\ \{}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(errorInfo,\ std::format(\textcolor{stringliteral}{"{}Production\ body\ is\ empty:\ \{:s\}"{}},\ prod.toString()));}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Production\ body\ is\ empty."{}});}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00470\ \ \ \ \ \}}
\DoxyCodeLine{00471\ \}}

\end{DoxyCode}
