\hypertarget{_l_r_parser_8hpp_source}{}\doxysection{LRParser.\+hpp}
\mbox{\hyperlink{_l_r_parser_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_parser_8h}{Parser.h}}"{}}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacem0st4fa}{m0st4fa}}\ \{}
\DoxyCodeLine{00007\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,}
\DoxyCodeLine{00008\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ SymbolT,\ \textcolor{keyword}{typename}\ StateT,}
\DoxyCodeLine{00009\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ FSMTableT\ =\ FSMTable<>,}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ InputT\ =\ std::string>}
\DoxyCodeLine{00012\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classm0st4fa_1_1_l_r_parser}{LRParser}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classm0st4fa_1_1_parser}{Parser}}<LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classm0st4fa_1_1_parser}{ParserBase}}\ =\ \mbox{\hyperlink{classm0st4fa_1_1_parser}{Parser<LexicalAnalyzerT,\ SymbolT,\ ParsingTableT,\ FSMTableT,\ InputT>}};}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ProductionType\ =\ \textcolor{keyword}{decltype}(GrammarT\{\}.at(0));}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }SymbolType\ =\ \textcolor{keyword}{decltype}(ProductionType\{\}.prodHead);}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }TerminalType\ =\ \textcolor{keyword}{decltype}(SymbolType\{\}.as.terminal);}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }VariableType\ =\ \textcolor{keyword}{decltype}(SymbolType\{\}.as.nonTerminal);}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }StackElementType\ =\ StateT;}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }DataType\ =\ \textcolor{keyword}{decltype}(StackElementType\{\}.data);}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }StackType\ =\ StackType<StackElementType>;}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }TokenType\ =\ \textcolor{keyword}{decltype}(LexicalAnalyzerT\{\}.getNextToken());}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ StackType\ m\_Stack\{\ 0\ \};}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ StackElementType\ m\_CurrTopState\{\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_a2f6de08078556fdae83441cdd6a26865}{START\_STATE}}\ \};}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{mutable}\ TokenType\ m\_CurrInputToken\{\ TokenType\{\}\ \};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_reset\_parser\_state()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::INFO,\ \textcolor{stringliteral}{"{}RESETTING\ PARSER."{}});}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ m\_Stack.clear();}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrTopState\ =\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_a2f6de08078556fdae83441cdd6a26865}{START\_STATE}};}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ m\_CurrInputToken\ =\ TokenType\{\};}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_reduce(\textcolor{keywordtype}{size\_t});}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_push\_state(\textcolor{keyword}{const}\ StateT\&\ state)\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Stack.push\_back(state);}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_CurrTopState\ =\ this-\/>m\_Stack.back();}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::INFO,\ std::format(\textcolor{stringliteral}{"{}Pushing\ state\ \{\}\(\backslash\)nCurrent\ stack:\ \{\}"{}},\ (std::string)state,\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack)));}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_pop\_state()\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_Stack.size()\ <=\ 1)\ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\ =\ std::format(\textcolor{stringliteral}{"{}Cannot\ pop\ more\ states\ from\ the\ LR\ stack.\ The\ stack\ cannot\ reach\ an\ empty\ stated."{}});}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::ERR\_STACK\_UNDERFLOW,\ msg);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error((std::string)\textcolor{stringliteral}{"{}Stack\ underflow:\ "{}}\ +\ msg);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_CurrTopState\ =\ this-\/>m\_Stack.back();}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::INFO,\ std::format(\textcolor{stringliteral}{"{}Popping\ state\ \{\}\(\backslash\)nCurrent\ stack:\ \{\}"{}},\ (std::string)this-\/>m\_CurrTopState,\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack)));}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Stack.pop\_back();}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_pop\_states(\textcolor{keywordtype}{size\_t}\ num)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_Stack.size()\ <\ num\ +\ 1)\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\ =\ std::format(\textcolor{stringliteral}{"{}Cannot\ pop\ \{\}\ states\ from\ the\ LR\ stack.\ The\ stack\ cannot\ reach\ an\ empty\ stated."{}},\ num);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::ERR\_STACK\_UNDERFLOW,\ msg);}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error((std::string)\textcolor{stringliteral}{"{}Stack\ underflow:\ "{}}\ +\ msg);}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ end\ =\ this-\/>m\_Stack.end();}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ StackType\ temp\{\ end\ -\/\ num,\ end\ \};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Stack.erase(end\ -\/\ num,\ end);}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::INFO,\ std::format(\textcolor{stringliteral}{"{}Popping\ states\ \{\}\(\backslash\)nCurrent\ stack:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(temp),\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack)));}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_CurrTopState\ =\ this-\/>m\_Stack.back();}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_check\_resolve\_parsing\_errors(\textcolor{keywordtype}{size\_t},\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}});}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \_error\_recov\_panic\_mode()\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rbegin\ =\ this-\/>m\_Stack.rbegin();}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rend\ =\ this-\/>m\_Stack.rend();}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<VariableType>\ nonTerminals;}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ found\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ a\ state\ with\ at\ least\ a\ single\ GOTO\ entry\ on\ some\ non-\/terminal}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ record\ all\ non-\/terminals\ on\ which\ it\ has\ a\ GOTO}}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ rbegin\ <\ rend;\ rbegin\ =\ this-\/>m\_Stack.rbegin())\ \{}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ currState\ =\ *rbegin;}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ stateNum\ =\ currState.state;}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ all\ non-\/error\ goto\ entries\ for\ this\ state}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nonTerminals\ =\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_ac238b151fa4253850fcdb23e403105c5}{p\_Table}}.getGotos(stateNum);}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ state\ has\ at\ least\ a\ single\ GOTO}}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ have\ found\ the\ state\ we\ seek;\ break\ in\ this\ case}}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!nonTerminals.empty())\ \{}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ found\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ this\ state\ does\ not\ have\ any\ GOTOs,}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ still\ didn't\ find\ the\ state\ we\ seek}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Stack.pop\_back();}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ no\ state\ was\ found}}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!found)\ \{}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::FATAL\_ERROR,\ \textcolor{stringliteral}{"{}Unable\ to\ synchronize!\ implement\ professional\ handling\ of\ this."{}});}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::abort();}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ some\ state\ could\ be\ found}}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ loop\ through\ the\ remaining\ terminals\ of\ the\ input}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ hasReachedEnd\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ ;\ this-\/>m\_CurrInputToken\ =\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a50baaace773ba3ad204057557383ff87}{get\_next\_token}}())\ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (hasReachedEnd)}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hasReachedEnd\ =\ this-\/>m\_CurrInputToken\ ==\ TokenType::TEOF;}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TerminalType\ currT\ =\ this-\/>m\_CurrInputToken.name;}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ toSymbol\ =\ [](\textcolor{keyword}{const}\ TerminalType\ t)\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ SymbolT\{\ .isTerminal\ =\ \textcolor{keyword}{true},\ .as\ \{.terminal\ =\ t\}\ \};}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (VariableType\ nonTerminal\ :\ nonTerminals)\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ follow\ =\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_ac238b151fa4253850fcdb23e403105c5}{p\_Table}}.grammar.getFOLLOW(nonTerminal);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ whether\ the\ current\ terminal\ is\ in\ FOLLOW(nonTerminal)}}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it\ does\ not\ exist}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keywordtype}{bool}\ exists\ =\ isIn(toSymbol(currT),\ follow);\ !exists)}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StackElementType\&\ topState\ =\ this-\/>m\_Stack.back();}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_a1d8e00c859e161b25063b88692c5af18}{p\_Logger}}.log(LoggerInfo::DEBUG,\ std::format(\textcolor{stringliteral}{"{}Synchronized\ with:\(\backslash\)n\ Top\ state\ \{\}\(\backslash\)nNon-\/terminal\ \{\}\(\backslash\)nTerminal"{}},\ topState.toString(),\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(nonTerminal),\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(currT)));}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structm0st4fa_1_1_l_r_table_entry}{LRTableEntry}}\ entry\ =\ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_ac238b151fa4253850fcdb23e403105c5}{p\_Table}}.atGoto(topState.state,\ nonTerminal);}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ assert(not\ entry.\mbox{\hyperlink{structm0st4fa_1_1_l_r_table_entry_adc6bd72997328c403d2c49bc0a1c40f1}{isError}}());}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ StackElementType\ newState\{\ entry.\mbox{\hyperlink{structm0st4fa_1_1_l_r_table_entry_a6b0db693c24cf8fb28df4419df0dccf0}{number}}\ \};}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_push\_state(newState);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \_take\_parsing\_action(\textcolor{keyword}{auto}\&);}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ StateT\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_a2f6de08078556fdae83441cdd6a26865}{START\_STATE}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_ac7cfdc194c78480aa1ab1a82fc589f6c}{LRParser}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_a37d09ee498247a3f714dfa7a576966b9}{LRParser}}(LexicalAnalyzerT\&\ lexer,}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ParsingTableT\&\ parsingTable,}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ SymbolT\&\ startSymbol)\ :\ \mbox{\hyperlink{classm0st4fa_1_1_parser}{ParserBase}}\{\ lexer,\ parsingTable,\ startSymbol\ \}\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_ac238b151fa4253850fcdb23e403105c5}{p\_Table}}.grammar.calculateFIRST();}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classm0st4fa_1_1_parser_ac238b151fa4253850fcdb23e403105c5}{p\_Table}}.grammar.calculateFOLLOW();}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_af2ea45351afd44206a6f10bf0f1f2a40}{LRParser}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser}{LRParser}}\&\ other)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser}{LRParser}}\&\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_a68e7196c96e24c5b04d541a89dc46507}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser}{LRParser}}\&\ rhs)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>ParserBase::operator=(rhs);}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_Stack\ =\ rhs.m\_Stack;}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_CurrTopState\ =\ rhs.m\_CurrTopState;}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_CurrInputToken\ =\ rhs.m\_CurrInputToken;}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ParserResultT\ =\ ParserResult>}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ ParserResultT\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_ae6f0de9c848736afb3952beada4c2fd8}{parse}}(\textcolor{keyword}{const}\ ParserResultT\&,\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ =\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba45bec99244903a5c7ebc17edeafbeebf}{ErrorRecoveryType::ERT\_NONE}});}
\DoxyCodeLine{00206\ \ \ \ \ \};}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,\ \textcolor{keyword}{typename}\ SymbolT,\ \textcolor{keyword}{typename}\ StateT,\ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,\ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keyword}{const}\ StateT\ \mbox{\hyperlink{classm0st4fa_1_1_l_r_parser_a2f6de08078556fdae83441cdd6a26865}{LRParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ StateT,\ ParsingTableT,\ FSMTableT,\ InputT>::START\_STATE}}\{\ 0\ \};}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \ \ \ \ \textcolor{comment}{//\ IMPLEMENTATION}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,\ \textcolor{keyword}{typename}\ SymbolT,\ \textcolor{keyword}{typename}\ StateT,\ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,\ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ LRParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ StateT,\ ParsingTableT,\ FSMTableT,\ InputT>::\_check\_resolve\_parsing\_errors(\textcolor{keywordtype}{size\_t}\ errorNum,\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ errorRecoveryType)}
\DoxyCodeLine{00216\ \ \ \ \ \{}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ TerminalType\ currTokenName\ =\ this-\/>m\_CurrInputToken.name;}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ currStateNum\ =\ this-\/>m\_CurrTopState.state;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ LRTableEntry\ currEntry\ =\ this-\/>p\_Table.atAction(currStateNum,\ currTokenName);}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(currEntry.isEmpty\ ||\ currEntry.type\ ==\ \mbox{\hyperlink{namespacem0st4fa_a9ce8791575aa3fa689e96e0b999248a7a0c005862ccfa7b4e287ef2ea8f431d63}{LRTableEntryType::TET\_ERROR}}))}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\ src\ =\ this-\/>get\_source\_code();}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ we\ have\ not\ reached\ the\ maximum\ number\ of\ encountered\ errors}}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (errorNum\ ==\ ParserBase::ERR\_RECOVERY\_LIMIT)\ \{}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::ERR\_RECOV\_LIMIT\_EXCEEDED,\ std::format(\textcolor{stringliteral}{"{}Maximum\ number\ of\ errors\ to\ recover\ from\ is\ \`{}\{\}`\ which\ has\ been\ exceeded."{}},\ ParserBase::ERR\_RECOVERY\_LIMIT));}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Error\ recovery\ limit\ exceeded!"{}});}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ errorNum++;}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (currEntry.isEmpty)\ \{}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\{\ std::format(\textcolor{stringliteral}{"{}LR\ parsing\ table\ entry\ is\ empty!\(\backslash\)nCurrent\ stack:\ \{\}\(\backslash\)nCurrent\ token:\ \{\}\(\backslash\)nCurrent\ input:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack),\ m\_CurrInputToken.toString(),\ src)\};}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::ERR\_INVALID\_TABLE\_ENTRY,\ msg);}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ error\ recovery\ is\ not\ enabled}}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (errorRecoveryType\ ==\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985ba45bec99244903a5c7ebc17edeafbeebf}{ErrorRecoveryType::ERT\_NONE}})\ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\ =\ std::format(\textcolor{stringliteral}{"{}Cannot\ continue\ further\ with\ the\ parse!\ Error\ entry\ encountered;\ It\ looks\ like\ this\ string\ does\ not\ belong\ to\ the\ grammar.\(\backslash\)nCurrent\ stack:\ \{\}\(\backslash\)n\ Current\ input:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack),\ src);}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::ERR\_UNACCEPTED\_STRING,\ msg);}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Cannot\ continue\ further\ with\ the\ parse!\ Error\ entry\ encountered;\ It\ looks\ like\ this\ string\ does\ not\ belong\ to\ the\ grammar."{}});}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ error\ recovery\ is\ enabled,\ switch\ on\ the\ type}}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (errorRecoveryType)\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985babc99a67757c7e551ab9a18435633c115}{ErrorRecoveryType::ERT\_PANIC\_MODE}}:\ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \_error\_recov\_panic\_mode();}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \{}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ errMsg\ =\ std::format(\textcolor{stringliteral}{"{}Cannot\ continue\ further\ with\ the\ parse!\ Error\ entry\ encountered;\ It\ looks\ like\ this\ string\ does\ not\ belong\ to\ the\ grammar.\(\backslash\)nCurrent\ stack:\ \{\}\(\backslash\)n\ Current\ input:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack),\ src);}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ noteMsg\ =\ std::format(\textcolor{stringliteral}{"{}Error\ recovery\ type\ \`{}\{\}`\ is\ not\ yet\ supported\ for\ LR\ parsing."{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(errorRecoveryType));}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ fullMsg\ =\ std::format(\textcolor{stringliteral}{"{}\{\}\(\backslash\)nNote:\ "{}},\ errMsg,\ noteMsg);}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::ERR\_UNACCEPTED\_STRING,\ fullMsg);}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Cannot\ continue\ further\ with\ the\ parse!\ Error\ entry\ encountered;\ It\ looks\ like\ this\ string\ does\ not\ belong\ to\ the\ grammar."{}});}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ error\ was\ resolved,\ continue\ to\ the\ next\ iteration}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00265\ \ \ \ \ \};}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,\ \textcolor{keyword}{typename}\ SymbolT,\ \textcolor{keyword}{typename}\ StateT,\ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,\ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00268\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ LRParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ StateT,\ ParsingTableT,\ FSMTableT,\ InputT>::\_reduce(\textcolor{keywordtype}{size\_t}\ prodNumber)}
\DoxyCodeLine{00269\ \ \ \ \ \{}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\ src\ =\ this-\/>get\_source\_code();}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ production}}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ production\ =\ this-\/>p\_Table.grammar.at(prodNumber);}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ StackElementType\ newState\ =\ StackElementType\{\};}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ execute\ the\ action,\ if\ any}}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ action\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}(*)(\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\&,\ StackElementType\&)\textcolor{keyword}{>}(production.postfixAction);\ action\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ action(this-\/>m\_Stack,\ newState);}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ determine\ the\ length\ of\ the\ body\ of\ the\ production}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ prodBodyLength\ =\ production.prodBody.size();}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pop\ prodBodyLength\ elements\ from\ the\ top\ of\ the\ stack\ and\ get\ the\ next\ entry}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ this-\/>\_pop\_states(prodBodyLength);}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ stateNum\ =\ this-\/>m\_CurrTopState.state;}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ LRTableEntry\ currEntry\ =\ this-\/>p\_Table.atGoto(stateNum,\ production.prodHead.as.nonTerminal);}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ newState.state\ =\ currEntry.number;}
\DoxyCodeLine{00289\ }
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Note:\ errors\ are\ never\ detected\ when\ consulting\ the\ GOTO\ table}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ here\ is\ just\ a\ precaution\ for\ possible\ (probably\ logic)\ bugs}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (currEntry.type\ !=\ \mbox{\hyperlink{namespacem0st4fa_a9ce8791575aa3fa689e96e0b999248a7a5ff670534557668fc4e739f5d2995a90}{LRTableEntryType::TET\_GOTO}})\ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ msg\{\ std::format(\textcolor{stringliteral}{"{}Incorrect\ entry\ type!\ Expected\ type\ \`{}GOTO`\ within\ function\ reduce\ after\ accessing\ the\ GOTO\ table.\(\backslash\)nCurrent\ stack:\ \{\}\(\backslash\)n\ Current\ input:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack),\ src)\ \};}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::ERR\_INVALID\_VAL,\ msg);}
\DoxyCodeLine{00295\ }
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::logic\_error(\textcolor{stringliteral}{"{}Incorrect\ entry\ type!\ Expected\ type\ \`{}GOTO`\ within\ function\ reduce\ after\ accessing\ the\ GOTO\ table."{}});}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ the\ current\ entry\ is\ not\ an\ error}}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ this-\/>\_push\_state(newState);}
\DoxyCodeLine{00301\ \ \ \ \ \}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,\ \textcolor{keyword}{typename}\ SymbolT,\ \textcolor{keyword}{typename}\ StateT,\ \textcolor{keyword}{typename}\ ParsingTableT,\ \textcolor{keyword}{typename}\ FSMTableT,\ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00305\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ LRParser<GrammarT,\ LexicalAnalyzerT,\ SymbolT,\ StateT,\ ParsingTableT,\ FSMTableT,\ InputT>::\_take\_parsing\_action(\textcolor{keyword}{auto}\&\ result)}
\DoxyCodeLine{00306\ \ \ \ \ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }ParserResultType\ =\ \textcolor{keyword}{decltype}(result);}
\DoxyCodeLine{00308\ }
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ currStateNum\ =\ this-\/>m\_CurrTopState.state;}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ TerminalType\ currTokenName\ =\ this-\/>m\_CurrInputToken.name;}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ LRTableEntry\ currEntry\ =\ this-\/>p\_Table.atAction(currStateNum,\ currTokenName);}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\_view\ src\ =\ this-\/>get\_source\_code();}
\DoxyCodeLine{00313\ }
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (currEntry.type)}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_a9ce8791575aa3fa689e96e0b999248a7ab931003b08d6a2c909b3019fb66e8e3c}{LRTableEntryType::TET\_ACTION\_SHIFT}}:\ \{}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \ \ \ \ StateT\ s\ =\ StateT\{\ currEntry.number\ \};}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \ \ \ \ s.token\ =\ this-\/>m\_CurrInputToken;}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>\_push\_state(s);}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_CurrInputToken\ =\ this-\/>get\_next\_token();}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_a9ce8791575aa3fa689e96e0b999248a7a467962630d56f4a8097340ec2aa4bb68}{LRTableEntryType::TET\_ACTION\_REDUCE}}:}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \_reduce(currEntry.number);}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespacem0st4fa_a9ce8791575aa3fa689e96e0b999248a7aedf0aec4eb58f4227927f04e3416b978}{LRTableEntryType::TET\_ACCEPT}}:\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ get\ the\ production}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ production\ =\ this-\/>p\_Table.grammar.at(0);}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ StackElementType\ newState\ =\ StackElementType\{\};}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ execute\ the\ action,\ if\ any}}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{auto}\ action\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}(*)(\mbox{\hyperlink{namespacem0st4fa_a46d72194b07903d608359effbdcb434c}{StackType}}\&,\ StackElementType\&,\ ParserResultType\&)\textcolor{keyword}{>}(production.postfixAction);\ action\ !=\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ action(this-\/>m\_Stack,\ newState,\ result);}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}ACCEPTED!"{}};}
\DoxyCodeLine{00339\ }
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{comment}{//\ TODO:\ ENHANCE\ THIS}}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>p\_Logger.log(LoggerInfo::FATAL\_ERROR,\ std::format(\textcolor{stringliteral}{"{}[Unreachable]\ Invalid\ entry\ type\ \`{}\{\}`\ on\ switch\ statement!\(\backslash\)nCurrent\ stack:\ \{\}\(\backslash\)n\ Current\ input:\ \{\}"{}},\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(currEntry.type),\ \mbox{\hyperlink{namespacem0st4fa_ae4642ce5b0d7f60d05db482d125b0182}{toString}}(this-\/>m\_Stack),\ src));}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ \ \ std::string\ srcLoc\ =\ this-\/>p\_Logger.getCurrSourceLocation();}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \ \ \ \ assert(std::format(\textcolor{stringliteral}{"{}Source\ code\ location:\(\backslash\)n\{\}"{}},\ srcLoc).data());}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ \ \ \ \ std::abort();}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00351\ \ \ \ \ \}}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ GrammarT,\ \textcolor{keyword}{typename}\ LexicalAnalyzerT,\ \textcolor{keyword}{typename}\ \ \ \ \ SymbolT,\ \textcolor{keyword}{typename}\ StateT,}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ ParsingTableT,}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ FSMTableT,\ \textcolor{keyword}{typename}\ InputT>}
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ParserResultT>}
\DoxyCodeLine{00357\ \ \ \ \ ParserResultT\ LRParser<GrammarT,\ LexicalAnalyzerT,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ SymbolT,\ StateT,}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ ParsingTableT,\ FSMTableT,\ InputT>::}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ parse(\textcolor{keyword}{const}\ ParserResultT\&\ initResult,\ \mbox{\hyperlink{namespacem0st4fa_ad189383b5832a5e0d841c6427769985b}{ErrorRecoveryType}}\ errorRecoveryType)}
\DoxyCodeLine{00361\ \ \ \ \ \{}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ ParserResultT\ result\{initResult\};}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ this-\/>\_reset\_parser\_state();}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ this-\/>\_push\_state(START\_STATE);}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ this-\/>m\_CurrInputToken\ =\ this-\/>get\_next\_token();}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ this\ variable\ keeps\ track\ of\ the\ number\ of\ errors\ encountered\ thus\ far}}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ errorNum\ =\ 0;}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ main\ parser\ loop}}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ check\ for\ errors\ and\ resolve\ them\ if\ any}}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_check\_resolve\_parsing\_errors(errorNum,\ errorRecoveryType))}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};\ \textcolor{comment}{//\ if\ there\ is\ no\ error\ and\ has\ been\ resolved}}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ no\ error:}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ do\ the\ action\ and\ break\ in\ case\ we\ accept}}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\_take\_parsing\_action(result))}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00407\ \ \ \ \ \}}
\DoxyCodeLine{00408\ \}}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00410\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacem0st4ta}{m0st4ta}}\ \{}
\DoxyCodeLine{00411\ }
\DoxyCodeLine{00412\ \}}

\end{DoxyCode}
